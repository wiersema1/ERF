# ------------------  INPUTS TO MAIN PROGRAM  -------------------
max_step = 3000000

amrex.fpe_trap_invalid = 0

fabarray.mfiter_tile_size = 1024 1024 1024

# PROBLEM SIZE & GEOMETRY
geometry.prob_lo     = -72000. 0.     0. 
geometry.prob_hi     =  72000. 1. 30000. # zhi not used with grid stretching
amr.n_cell           =   576  1   600

geometry.is_periodic = 0 1 0

#erf.initial_dz = 10
#erf.grid_stretching_ratio = 1.03

erf.terrain_z_levels = 0.000000 0.050000 0.110271 0.171447 0.233540 0.296564 0.360534 0.425463 0.491366 0.558258 0.626153 0.695067 0.765014 0.836011 0.908072 0.981215 1.055454 1.130807 1.207291 1.284922 1.363717 1.443694 1.524870 1.607265 1.690895 1.775780 1.861938 1.949388 2.038150 2.128244 2.219689 2.312506 2.406714 2.502337 2.599393 2.697905 2.797895 2.899385 3.002397 3.106954 3.213080 3.320797 3.430130 3.541104 3.653742 3.768069 3.884111 4.001894 4.121444 4.242787 4.365950 4.490961 4.617846 4.746635 4.877356 5.010038 5.144710 5.281402 5.420144 5.560968 5.703903 5.848983 5.996239 6.145704 6.297411 6.451394 6.607686 6.766322 6.927339 7.090770 7.256653 7.425024 7.595921 7.769381 7.945443 8.124146 8.305529 8.489633 8.676499 8.866168 9.058682 9.254083 9.452416 9.653724 9.858051 10.065443 10.275946 10.489606 10.706472 10.926590 11.150010 11.376782 11.606955 11.840580 12.077710 12.318397 12.562695 12.810656 13.062338 13.317794 13.577082 13.840260 14.107385 14.378517 14.653716 14.933043 15.216560 15.504330 15.796416 16.092884 16.393798 16.699226 17.009236 17.323896 17.643276 17.967446 18.296479 18.630448 18.969426 19.313488 19.662712 20.017174 20.376953 20.742129 21.112782 21.488995 21.870851 22.258435 22.651833 23.051132 23.456420 23.867788 24.285326 24.709127 25.139285 25.575896 26.019056 26.468863 26.925417 27.388820 27.859173 28.336582 28.821152 29.312991 29.812207 30.318911 30.833216 31.355236 31.885086 32.422883 32.968748 33.522800 34.085164 34.655962 35.235323 35.823374 36.420246 37.026071 37.640984 38.265120 38.898618 39.541618 40.194264 40.856699 41.529071 42.211528 42.904223 43.607307 44.320938 45.045274 45.780474 46.526702 47.284124 48.052907 48.833222 49.625242 50.429142 51.245100 52.073298 52.913919 53.767149 54.633178 55.512197 56.404401 57.309988 58.229159 59.162118 60.109071 61.070229 62.045803 63.036012 64.041073 65.061211 66.096650 67.147621 68.214357 69.297093 70.396071 71.511533 72.643728 73.792905 74.959320 76.143231 77.344901 78.564596 79.802586 81.059146 82.334554 83.629094 84.943052 86.276719 87.630391 89.004368 90.398955 91.814461 93.251199 94.709488 96.189652 97.692018 99.216920 100.764695 102.335686 103.930243 105.548718 107.191470 108.858863 110.551268 112.269058 114.012615 115.782326 117.578582 119.401782 121.252330 123.130636 125.037117 126.972195 128.936299 130.929865 132.953334 135.007156 137.091784 139.207683 141.355319 143.535170 145.747719 147.993456 150.272879 152.586494 154.934812 157.318356 159.737653 162.193239 164.685659 167.215465 169.783218 172.389488 175.034851 177.719895 180.445215 183.211415 186.019107 188.868915 191.761470 194.697414 197.677396 200.702078 203.772131 206.888234 210.051079 213.261366 216.519808 219.827127 223.184055 226.591337 230.049728 233.559996 237.122917 240.739282 244.409892 248.135562 251.917117 255.755395 259.651247 263.605537 267.619142 271.692950 275.827866 280.024805 284.284698 288.608490 292.997139 297.451617 301.972913 306.562028 311.219979 315.947800 320.746539 325.617258 330.561038 335.578975 340.672181 345.841785 351.088933 356.414789 361.820532 367.307361 372.876493 378.529161 384.266620 390.090141 396.001014 402.000551 408.090080 414.270953 420.544538 426.912228 433.375433 439.935585 446.594140 453.352574 460.212384 467.175091 474.242238 481.415393 488.696146 496.086109 503.586922 511.200247 518.927772 526.771210 534.732300 542.812805 551.014519 559.339258 567.788868 576.365222 585.070222 593.905797 602.873905 611.976535 621.215704 630.593461 640.111884 649.773084 659.579201 669.532411 679.634918 689.888963 700.296819 710.860793 721.583226 732.466496 743.513014 754.725231 766.105631 777.656736 789.381109 801.281347 813.360088 825.620011 838.063832 850.694311 863.514247 876.526482 889.733901 903.139430 916.746043 930.556755 944.574628 958.802769 973.244331 987.902518 1002.780577 1017.881807 1033.209555 1048.767220 1064.558249 1080.586144 1096.854458 1113.366796 1130.126819 1147.138243 1164.404838 1181.930432 1199.718910 1217.774215 1236.100349 1254.701376 1273.581418 1292.744660 1312.195351 1331.937803 1351.976391 1372.315558 1392.959813 1413.913732 1435.181959 1456.769210 1478.680269 1500.919994 1523.493316 1546.405237 1569.660837 1593.265270 1617.223771 1641.541649 1666.224295 1691.277180 1716.705859 1742.515969 1768.713230 1795.303449 1822.292522 1849.686431 1877.491249 1905.713139 1934.358358 1963.433254 1992.944275 2022.897960 2053.300951 2084.159986 2115.481907 2147.273657 2179.542283 2212.294939 2245.538884 2279.281489 2313.530233 2348.292707 2383.576619 2419.389790 2455.740158 2492.635782 2530.084840 2568.095634 2606.676590 2645.836260 2685.583325 2725.926596 2766.875016 2808.437663 2850.623749 2893.442627 2936.903787 2981.016866 3025.791640 3071.238036 3117.366128 3164.186141 3211.708454 3259.943602 3308.902278 3358.595333 3409.033785 3460.228813 3512.191766 3564.934164 3618.467698 3672.804234 3727.955819 3783.934678 3840.753219 3898.424039 3956.959921 4016.373841 4076.678970 4137.888676 4200.016527 4263.076296 4327.081962 4392.047713 4457.987950 4524.917290 4592.850571 4661.802851 4731.789415 4802.825778 4874.927686 4948.111122 5022.392310 5097.787716 5174.314053 5251.988286 5330.827631 5410.849567 5492.071832 5574.512430 5658.189638 5743.122004 5829.328356 5916.827802 6005.639741 6095.783858 6187.280137 6280.148860 6374.410615 6470.086295 6567.197111 6665.764589 6765.810579 6867.357259 6970.427139 7075.043068 7181.228235 7289.006180 7398.400794 7509.436327 7622.137393 7736.528976 7852.636431 7970.485499 8090.102303 8211.513359 8334.745581 8459.826286 8586.783201 8715.644471 8846.438659 8979.194760 9113.942203 9250.710857 9389.531041 9530.433528 9673.449553 9818.610817 9965.949501 10115.498265 10267.290260 10421.359135 10577.739043 10736.464650 10897.571141 11061.094230 11227.070165 11395.535738 11566.528296 11740.085741 11916.246549 12095.049768 12276.535036 12460.742583 12647.713243 12837.488463 13030.110311 13225.621487 13424.065331 13625.485832 13829.927641 14037.436077 14248.057140 14461.837518 14678.824602 14899.066492 15122.612011 15349.510713 15579.812895 15813.569609 16050.832675 16291.654686 16536.089028 16784.189884 17036.012254 17291.611959 17551.045660 17814.370866 18081.645950 18352.930161 18628.283635 18907.767411 19191.443443 19479.374616 19771.624757 20068.258649 20369.342050 20674.941702 20985.125349 21299.961751 21619.520698 21943.873030 22273.090647 22607.246528 22946.414747 23290.670490 23640.090068 23994.750941 24354.731726 24720.112223 25090.973428 25467.397551 25849.468035 26237.269577 26630.888142 27030.410985 27435.926671 27847.525093 28265.297491 28689.336474 29119.736043 29556.591605 30000.000000

xlo.type = "Inflow"
xhi.type = "Outflow"
xlo.velocity = 10. 0. 0.
#xlo.density  = 1.0
#xlo.theta    = 300.
#xlo.scalar   = 0.
    
zlo.type = "SlipWall"
zhi.type = "Outflow"
#zhi.theta_grad = 0.003

erf.sponge_type = "input_sponge"
erf.input_sponge_file = "sponge_WoA.txt"
erf.sponge_strength = 1.0
erf.use_xhi_sponge_damping = true
erf.xhi_sponge_start = 50000.0

# TIME STEP CONTROL
#erf.substepping_type  = None
erf.fixed_mri_dt_ratio = 4
erf.fixed_dt           = 0.06

# DIAGNOSTICS & VERBOSITY
erf.sum_interval   = 1        # timesteps between computing mass
erf.v              = 1        # verbosity in ERF.cpp
amr.v              = 1        # verbosity in Amr.cpp

# REFINEMENT / REGRIDDING
amr.max_level       = 0       # maximum level number allowed

# CHECKPOINT FILES
erf.check_file      = chk     # root name of checkpoint file
erf.check_int       = 10000    # number of timesteps between checkpoints

# PLOTFILES
erf.plot_file_1     = plt     # prefix of plotfile name
erf.plot_int_1      = 5000     # number of timesteps between plotfiles
erf.plot_vars_1     = density x_velocity y_velocity z_velocity pressure theta pert_pres pert_dens

# SOLVER CHOICE
erf.use_gravity = true
erf.use_coriolis = false
erf.les_type = "None"

erf.molec_diff_type = "None"
#erf.dynamicViscosity = 1e-5 # [kg/(m-s)]

erf.rayleigh_damp_W = true
erf.rayleigh_zdamp = 5000.0
erf.rayleigh_dampcoef = 0.2

erf.init_type = "input_sounding"
erf.init_sounding_ideal = true

# TERRRAIN GRID TYPE
erf.terrain_type = Static
#erf.terrain_smoothing = 1 # Smoothed Terrain Following coords (Klemp 2011)
#erf.terrain_gamma_m = 0.5
erf.terrain_smoothing = 2 # Sullivan TF

# PROBLEM PARAMETERS
prob.hmax  = 1.0  # full hill height
prob.L     = 1000.0 # hill length at half-height
